@base = http://localhost:4000
@otp= "{{loginUser.response.body.data.otp}}"
@utoken= {{loginUser.response.body.data.token}}
@atoken= {{loginAdmin.response.body.data.token}}
@userid= {{loginUser.response.body.data.user.userId}}


###
GET {{base}} HTTP/1.1

###
POST {{base}}/auth/signup?role=user HTTP/1.1
Content-Type: application/json

{
    "email":"jideadedejifirst@gmail.com",
    "password":"jide1234",
    "name":"Jide Adedeji",
    "phone":"+2348118161237",
    "deviceInfo":"jide_phone"
}

###
# @name loginUser
POST {{base}}/auth/login HTTP/1.1
Content-Type: application/json

{
    "email":"jideadedejifirst@gmail.com",
    "password":"jide1234",
    "role":"user"
}
###
# @name loginAdmin
POST {{base}}/auth/login HTTP/1.1
Content-Type: application/json

{
    "email":"admin@gmail.com",
    "password":"jide1234",
    "role":"admin"
}

###
# @name generateOtp
POST {{base}}/auth/generateotp HTTP/1.1
Content-Type: application/json
Authorization: Bearer {{utoken}}

{
    "userId": 1,
    "role":"user"
}

###
# @name validateOtp
POST {{base}}/auth/validateotp HTTP/1.1
Content-Type: application/json

{
    "userId": {{userid}},
    "otp": {{otp}},
    "role":"user"
}

###
PATCH {{base}}/users HTTP/1.1
Content-Type: application/json
Authorization: Bearer {{utoken}}

{
    "photoUrl":"http"
}

###
GET {{base}}/chats HTTP/1.1
Content-Type: application/json
Authorization: Bearer {{utoken}}

###
GET {{base}}/chats/2?cursor=&take=2&desc=true HTTP/1.1
Content-Type: application/json
Authorization: Bearer {{utoken}}

###
POST {{base}}/pro/auto HTTP/1.1
Content-Type: application/json
Authorization: Bearer {{utoken}}

{
    "latitude":6.520238459241921,
    "longitude":3.3680734868226345,
    "subServiceId":1,
    "proId":3,
    "distance":1
}

###
POST {{base}}/admin/users HTTP/1.1
Content-Type: application/json
Authorization: Bearer {{atoken}}

{
    "serviceId":2
}

###
POST {{base}}/admin/userbookings HTTP/1.1
Content-Type: application/json
Authorization: Bearer {{atoken}}

{
    "userId":1
}

###
POST {{base}}/admin/userbookings HTTP/1.1
Content-Type: application/json
Authorization: Bearer {{utoken}}

{
    "userId":1
}

###
POST {{base}}/pros/auto HTTP/1.1
Content-Type: application/json
Authorization: Bearer {{utoken}}

{
    "userId":1,
    "subServiceId":1,
    "latitude":10,
    "longitude":10
}

###
GET {{base}}/bookings/transactions HTTP/1.1
Content-Type: application/json
Authorization: Bearer {{utoken}}

###
GET {{base}}/admin/dashboard HTTP/1.1
Content-Type: application/json
Authorization: Bearer {{atoken}}

###
POST {{base}}/admin/dashboard/bookings HTTP/1.1
Content-Type: application/json
Authorization: Bearer {{atoken}}

{
    "limit":"completed",
    "status":"new",
    "period":"day"
}
